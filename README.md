# stockviewer
ä¸€å¥—åŸºäºŽ TradingView Lightweight Charts çš„è½»é‡çº§è‚¡ç¥¨æŒ‡æ ‡åˆ†æžç³»ç»Ÿï¼Œæ”¯æŒæŸ¥çœ‹ A è‚¡ã€æ¸¯è‚¡ï¼ˆå¾…æ‰©å±•ï¼‰ã€ç¾Žè‚¡ï¼ˆå¾…æ‹“å±•ï¼‰è¡Œæƒ…æ•°æ®ã€‚

ç›®å‰ Lightweight Charts åœ¨åŠ å¯†è´§å¸å¸‚åœºä¸­åº”ç”¨å¹¿æ³›ï¼Œç„¶è€Œåœ¨å›½å†… A è‚¡é¢†åŸŸå´è¾ƒå°‘è§åˆ°å…¶ä½¿ç”¨ã€‚è¿™ä¸€çŽ°è±¡æˆ–è®¸æ˜¯ç”±äºŽå›½å†…åˆ¸å•†å°šæœªæŽ¥å…¥ TradingView è§†å›¾æ”¯æŒï¼Œäº¦æˆ–æ˜¯ A è‚¡æ•°æ®æŽ¥å£æˆæœ¬è¾ƒé«˜æ‰€è‡´ï¼ˆAè‚¡æ•°æ®æŽ¥å£ä¸€å¹´ä»·æ ¼åŠ¨è¾„ç™¾ä¸‡ï¼Œå³ä¾¿æ˜¯ä½¿ç”¨åˆ¸å•†æŽ¥å£ï¼Œä¹Ÿæ˜¯éœ€è¦åˆ¸å•†è½¯ä»¶ä¸‹è¿›è¡Œä½¿ç”¨ï¼Œå¤§å¤§é™åˆ¶äº†ä¸ªäººä½¿ç”¨çš„è‡ªç”±åº¦ï¼‰ã€‚  
ä½† TradingView æ‰€æä¾›çš„å¯è§†åŒ–å›¾è¡¨ä¸Žä¸°å¯ŒæŒ‡æ ‡ç¡®å®žå¼ºå¤§æ˜“ç”¨ã€‚å¯¹äºŽä¸ªäººæŠ•èµ„è€…è€Œè¨€ï¼ŒLightweight Charts çš„å›¾è¡¨åº“å·²è¶³å¤Ÿæ»¡è¶³æ—¥å¸¸åˆ†æžéœ€æ±‚ã€‚
ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ­å»ºäº†è¿™å¥—è½»é‡çº§çš„è‚¡ç¥¨æŒ‡æ ‡åˆ†æžç³»ç»Ÿï¼Œæ—¨åœ¨ä¸ºå¤§å®¶æä¾›ä¸€ä¸ªä¾¿æ·çš„æ•°æ®æŸ¥çœ‹ä¸Žå±•ç¤ºå·¥å…·ã€‚æ‰€æœ‰è‡ªé€‰è‚¡æ•°æ®å‡ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ç«¯ï¼Œæ— éœ€ä¸Šä¼ æœåŠ¡å™¨ï¼Œæœ‰æ•ˆä¿éšœä¸ªäººè‚¡ç¥¨æ•°æ®çš„éšç§ä¸Žå®‰å…¨ã€‚

æ¬¢è¿Žå„ä½å¼€å‘è€…ä¸€åŒå‚ä¸Žï¼Œå…±åŒå®Œå–„è¿™ä¸ªé¡¹ç›®ã€‚



ä¸€ã€å®žçŽ°æ€è·¯

#1ã€ python app.py  ä¸»è¦æ˜¯å®žçŽ° ç¬¬ä¸‰æ–¹apiæŽ¥å£çš„äºŒæ¬¡å°è£…ï¼Œå®žçŽ°å„ç§æŒ‡æ ‡å…¬å¼ç»“æžœçš„è®¡ç®—ã€‚

#2ã€ index.html  ä¸»è¦æ˜¯å¼•ç”¨æœ¬åœ° lightweight chats æ¡†æž¶ï¼Œå®žçŽ°ä»ŽæŽ¥å£ç«¯ç›´æŽ¥æŠ½æ•°æ®ï¼Œåœ¨æœ¬åœ°æµè§ˆå™¨ç«¯è¿›è¡Œç»„è£…å’Œå±•çŽ°ã€‚ ç›¸å½“äºŽå¯Œå®¢æˆ·ç«¯çš„é¡µé¢ã€‚ 

äºŒã€ æ•°æ®æŽ¥å£

åŽ†å²æ•°æ®ä½¿ç”¨ akshare 

æ—¥å†…æ•°æ®ä½¿ç”¨ è…¾è®¯è‚¡ç¥¨æŽ¥å£


#å®‰è£…éƒ¨ç½²

Python 3.9+

#åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ

python -m venv venv

source venv/bin/activate # linux / mac

venv\Scripts\activate # windows

#çŽ¯å¢ƒä¾èµ–

pip install fastapi uvicorn akshare pandas numpy python-multipart pydantic aiohttp

#åŽç«¯

uvicorn app:app --reload --host 0.0.0.0 --port 8000

éªŒè¯

http://127.0.0.1:8000/api/kline?symbol=sh600000&period=daily&limit=300


#å‰ç«¯

cd frontend
python -m http.server 8081   ï¼ˆæŸ¥çœ‹ä¸‹index.htmlé¡µé¢é‡Œè°ƒç”¨çš„ æ˜¯å¦æ˜¯ä¸Šé¢çš„8000ç«¯å£ï¼Œè¦æ±‚ä¸€è‡´ï¼‰

éªŒè¯

http://127.0.0.1:8001



å·²å®žçŽ°æŒ‡æ ‡å‡½æ•°ï¼š


## ðŸ“Š æŠ€æœ¯æŒ‡æ ‡æ±‡æ€»è¡¨

### ä¸€ã€è¶‹åŠ¿æŒ‡æ ‡ç±»

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| ç§»åŠ¨å¹³å‡çº¿ | MA5ã€MA10ã€MA20ã€MA14ã€MA21ã€MA35ã€MA50ã€MA100ã€MA200 | è¶‹åŠ¿åˆ¤æ–­ã€æ”¯æ’‘é˜»åŠ› | ä¸åŒå‘¨æœŸï¼ˆ5,10,20,14,21,35,50,100,200æ—¥ï¼‰ | ä»·æ ¼å¹³å‡å€¼ | åæ˜ ä¸åŒå‘¨æœŸå†…ä»·æ ¼çš„å¹³å‡æ°´å¹³ï¼Œç”¨äºŽåˆ¤æ–­è¶‹åŠ¿æ–¹å‘ |
| å¸ƒæž—å¸¦ | BB_upper, BB_mid, BB_lower | æ³¢åŠ¨æ€§åˆ†æžã€è¶…ä¹°è¶…å– | å‘¨æœŸ20ï¼Œæ ‡å‡†å·®å€æ•°2 | ä¸Šè½¨ã€ä¸­è½¨ã€ä¸‹è½¨ | åæ˜ ä»·æ ¼æ³¢åŠ¨èŒƒå›´ï¼Œä¸Šè½¨ä¸ºåŽ‹åŠ›ï¼Œä¸‹è½¨ä¸ºæ”¯æ’‘ |
| è¶…çº§è¶‹åŠ¿ | supertrend | è¶‹åŠ¿è·Ÿè¸ªã€æ­¢æŸæ­¢ç›ˆ | å‘¨æœŸ10ï¼Œä¹˜æ•°3 | è¶‹åŠ¿çº¿ | åŸºäºŽATRçš„æ™ºèƒ½è¶‹åŠ¿çº¿ï¼Œçº¿ä¸Šä¸ºå¤šå¤´ï¼Œçº¿ä¸‹ä¸ºç©ºå¤´ |
| BBIå¤šç©ºæŒ‡æ•° | bbi | å¤šç©ºåˆ†ç•Œ | 3,6,12,24å‘¨æœŸå‡å€¼ | ç»¼åˆå‡çº¿ | å¤šç©ºåˆ†ç•Œçº¿ï¼Œä»·æ ¼ä¸Šæ–¹ä¸ºå¤šå¤´ï¼Œä¸‹æ–¹ä¸ºç©ºå¤´ |
| TRIXä¸‰é‡æŒ‡æ•° | trix, trix_signal | è¶‹åŠ¿åŠ¨é‡ | å‘¨æœŸ12 | TRIXå€¼å’Œä¿¡å·çº¿ | ä¸‰é‡å¹³æ»‘çš„è¶‹åŠ¿åŠ¨é‡æŒ‡æ ‡ï¼Œå‡å°‘å¸‚åœºå™ªéŸ³ |

### äºŒã€åŠ¨é‡æŒ‡æ ‡ç±»

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| MACD | macd_diff, macd_signal, macd_hist | è¶‹åŠ¿åŠ¨é‡ã€ä¹°å–ä¿¡å· | å¿«çº¿12ï¼Œæ…¢çº¿26ï¼Œä¿¡å·9 | å·®å€¼ã€ä¿¡å·çº¿ã€æŸ±çŠ¶å›¾ | è¡¡é‡çŸ­æœŸå’Œé•¿æœŸè¶‹åŠ¿çš„å·®å¼‚ï¼Œé‡‘å‰æ­»å‰ä¿¡å· |
| RSI | rsi14 | è¶…ä¹°è¶…å– | å‘¨æœŸ14 | 0-100æ•°å€¼ | ç›¸å¯¹å¼ºå¼±æŒ‡æ•°ï¼Œ>70è¶…ä¹°ï¼Œ<30è¶…å– |
| éšæœºRSI | stoch_rsi_k, stoch_rsi_d | è¶…ä¹°è¶…å–ï¼ˆæ›´æ•æ„Ÿï¼‰ | RSIå‘¨æœŸ14ï¼Œéšæœºå‘¨æœŸ14ï¼Œå¹³æ»‘3,3 | Kçº¿ã€Dçº¿ | RSIçš„éšæœºç‰ˆæœ¬ï¼Œå¯¹è¶…ä¹°è¶…å–æ›´æ•æ„Ÿ |
| SKDJæ…¢é€Ÿéšæœº | skdj_k, skdj_d | è¶…ä¹°è¶…å– | å‘¨æœŸ9,3 | Kå€¼ã€Då€¼ | æ…¢é€ŸéšæœºæŒ‡æ ‡ï¼Œè¿‡æ»¤å¸‚åœºå™ªéŸ³ |
| KDJ | kdj_k, kdj_d, kdj_j | è¶…ä¹°è¶…å–ã€ä¹°å–ç‚¹ | å‘¨æœŸ9,3,3 | Kå€¼ã€Då€¼ã€Jå€¼ | éšæœºæ‘†åŠ¨æŒ‡æ ‡ï¼ŒJå€¼çµæ•åº¦æœ€é«˜ |
| CCI | cci20, cci14 | è¶‹åŠ¿å¼ºåº¦ | å‘¨æœŸ20,14 | æ­£è´Ÿæ•°å€¼ | å•†å“é€šé“æŒ‡æ ‡ï¼Œ>100è¶…ä¹°ï¼Œ<-100è¶…å– |
| ROCå˜åŠ¨çŽ‡ | roc10, roc20 | åŠ¨é‡å˜åŒ– | å‘¨æœŸ10,20 | ç™¾åˆ†æ¯” | ä»·æ ¼å˜åŠ¨çŽ‡ï¼Œåæ˜ ä»·æ ¼å˜åŒ–é€Ÿåº¦ |
| Williams %R | williams_r14 | è¶…ä¹°è¶…å– | å‘¨æœŸ14 | -100åˆ°0 | å¨å»‰æŒ‡æ ‡ï¼Œ>-20è¶…ä¹°ï¼Œ<-80è¶…å– |

### ä¸‰ã€æˆäº¤é‡æŒ‡æ ‡ç±»

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| OBVèƒ½é‡æ½® | obv | é‡ä»·å…³ç³» | æ—  | å½’ä¸€åŒ–0-100 | æˆäº¤é‡ä¸Žä»·æ ¼å˜åŠ¨å…³ç³»ï¼Œç¡®è®¤è¶‹åŠ¿ |
| MFIèµ„é‡‘æµé‡ | mfi14 | èµ„é‡‘æµå‘ | å‘¨æœŸ14 | 0-100æ•°å€¼ | ç±»ä¼¼RSIä½†åŒ…å«æˆäº¤é‡ï¼Œ>80è¶…ä¹°ï¼Œ<20è¶…å– |

### å››ã€é€šé“ä¸Žæ³¢æ®µæŒ‡æ ‡

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| å”å¥‡å®‰é€šé“ | dc_high20, dc_low20 | çªç ´äº¤æ˜“ | å‘¨æœŸ20 | ä¸Šè½¨ã€ä¸‹è½¨ | å‘¨æœŸå†…æœ€é«˜æœ€ä½Žä»·å½¢æˆçš„é€šé“ |
| ZigZagæ‹ç‚¹ | zigzag_5, zigzag_7 | æ³¢æ®µè¯†åˆ« | é˜ˆå€¼5%,7% | æ‹ç‚¹ä»·æ ¼ | è¯†åˆ«æ˜¾è‘—çš„ä»·æ ¼è½¬æŠ˜ç‚¹ |

### äº”ã€æ”¯æ’‘é˜»åŠ›æŒ‡æ ‡

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| PIVOTæž¢è½´ç‚¹ | pivot, resistance1/2, support1/2 | æ”¯æ’‘é˜»åŠ›ä½ | å‰ä¸€æ—¥é«˜ã€ä½Žã€æ”¶ç›˜ | æž¢è½´ç‚¹åŠæ”¯æ’‘é˜»åŠ› | è®¡ç®—æ—¥å†…æ”¯æ’‘é˜»åŠ›ä½ |
| å¸ƒæž—å¸¦è¾¹ç•Œ | bb_upper, bb_lower | åŠ¨æ€æ”¯æ’‘é˜»åŠ› | å‘¨æœŸ20,æ ‡å‡†å·®2 | ä¸Šä¸‹è¾¹ç•Œ | åŠ¨æ€çš„æ”¯æ’‘é˜»åŠ›çº¿ |

### å…­ã€ç­–ç•¥ä¿¡å·æŒ‡æ ‡

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| TD9æŠ„åº•ç­–ç•¥ | td9_signal | æŠ„åº•ä¿¡å· | è¿žç»­9å¤©ä½ŽäºŽå‰4å¤© | 0/1ä¿¡å· | è¿žç»­9æ—¥æ”¶ç›˜ä½ŽäºŽå‰4æ—¥ï¼Œå‘å‡ºä¹°å…¥ä¿¡å· |
| EMAé‡‘å‰æ­»å‰ | ema_signal | è¶‹åŠ¿è½¬æŠ˜ | EMA12å’ŒEMA26 | -1/0/1ä¿¡å· | é‡‘å‰ä¹°å…¥(1)ï¼Œæ­»å‰å–å‡º(-1) |
| è¶…çº§æ³¢æ®µç­–ç•¥ | super_band_signal | æ³¢æ®µäº¤æ˜“ | å¸ƒæž—å¸¦+RSI | -1/0/1ä¿¡å· | ä»·æ ¼çªç ´å¸ƒæž—å¸¦ä¸”RSIä¸è¿‡åº¦è¶…ä¹°è¶…å– |
| MKå…±æŒ¯æŒ‡æ ‡ | mk_resonance | å¤šé‡ç¡®è®¤ | MACD+RSI+è¶…çº§è¶‹åŠ¿ | -2,-1,0,1,2ä¿¡å· | å¤šä¸ªæŒ‡æ ‡åŒå‘ä¿¡å·ï¼Œå¼ºåº¦åˆ†5çº§ |

### ä¸ƒã€ä»·æ ¼è¡ç”ŸæŒ‡æ ‡

| æŒ‡æ ‡ç±»åž‹ | æŒ‡æ ‡åç§° | ä½¿ç”¨åœºæ™¯ | å‚æ•° | ç»“æžœ | æŒ‡æ ‡è§£é‡Š |
|---------|---------|---------|------|------|---------|
| å‰æ”¶ç›˜ä»· | prev_close | æ¶¨è·Œå¹…è®¡ç®— | å‰ä¸€æ—¥æ”¶ç›˜ | ä»·æ ¼ | ç”¨äºŽè®¡ç®—å½“æ—¥æ¶¨è·Œå¹… |
| æˆäº¤é¢ | turnover | èµ„é‡‘åˆ†æž | æ”¶ç›˜ä»·Ã—æˆäº¤é‡ | é‡‘é¢ | åæ˜ èµ„é‡‘æµå…¥æµå‡º |
| æ¢æ‰‹çŽ‡ | turnover_rate | æµåŠ¨æ€§åˆ†æž | æˆäº¤é‡/æ€»è‚¡æœ¬ | ç™¾åˆ†æ¯” | åæ˜ è‚¡ç¥¨æµåŠ¨æ€§å¼ºå¼± |

---





